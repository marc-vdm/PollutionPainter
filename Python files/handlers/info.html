<html>
    <head>

    </head>
    <body>
        <table>
            <tr>
                <th>
                    PM25
                </th>
                <td id="pm25">
                    <i>Loading...</i>
                </td>
            </tr>
            <tr>
                <th>
                    Status
                </th>
                <td id="status">
                    <i>Loading...</i>
                </td>
            </tr>
        </table>
        <script>
            async function refresh(){
                let response = await fetch('/data')
                let data = response.json()
                console.log(data)
                document.getElementById("pm25").innerHTML = data.pm25;
                document.getElementById("status").innerHTML = data.status;
                setTimeout(refresh, 1000)
            }
            //let refresh_timer = setInterval(refresh, 500)
            refresh()


        </script>
    </body>
</html>